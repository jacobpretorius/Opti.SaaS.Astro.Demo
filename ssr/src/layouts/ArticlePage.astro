---
import type { ArticlePage } from '../gql/graphql'; // Use generated ArticlePage type
// import Layout from "./Layout.astro"; // REMOVED
import FormattedDate from '../components/FormattedDate.astro';

interface Props {
  pageContent: ArticlePage;
  // startPageContent and navItems are not expected or used here
}

const { pageContent } = Astro.props;

// const title = pageContent.Heading ?? 'Article'; // Unused
// const description = pageContent.MetaDescription ?? 'An article from the site'; // Unused
// const mainImage = pageContent.Image?.url?.default ?? '/placeholder-image.jpg'; // Unused
const publishedDate = pageContent._metadata?.published;
---

<Fragment>
  <div class='container mx-auto px-4 py-8'>
    <article class='prose lg:prose-xl max-w-none'>
      <header class='mb-8'>
        <h1 class='text-4xl font-bold text-gray-800 dark:text-white'>{pageContent.Heading}</h1>
        {
          publishedDate && (
            <div class='text-gray-600 dark:text-gray-400 text-sm mt-2'>
              Published: <FormattedDate dateString={publishedDate} />
            </div>
          )
        }
        {
          pageContent.Image?.url?.default && (
            <img
              src={pageContent.Image.url.default}
              alt={pageContent.Heading ?? 'Article image'}
              class='w-full h-auto object-cover rounded-lg mt-4 shadow-lg'
              style='max-height: 400px;'
            />
          )
        }
      </header>

      {
        pageContent.MainBody?.html && (
          <div
            class='prose-p:text-gray-700 dark:prose-p:text-gray-300 prose-headings:text-gray-800 dark:prose-headings:text-white'
            set:html={pageContent.MainBody.html}
          />
        )
      }

      <footer class='mt-12 pt-8 border-t border-gray-200 dark:border-gray-700'>
        <a href='/blog' class='text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300'> &larr; Back to Blog </a>
      </footer>
    </article>
  </div>
</Fragment>

<style>
  /* Scoped styles can be added here if needed */
  header img {
    aspect-ratio: 16 / 9; /* Or your preferred aspect ratio */
  }
</style>
<!-- 
  Potential data points from ArticlePage type:
  pageContent.Heading (String)
  pageContent.Image (ContentReference -> url.default (String))
  pageContent.MainBody (RichText -> html (String))
  pageContent.MetaDescription (String)
  pageContent._metadata (IContentMetadata -> .displayName, .published, .url.default, .types)
-->
